<div class="table-ctn">
  <div nz-flex nzVertical="false" nzJustify="space-between" class="table-header">
    <div class="flex-item">

      <form nz-form [formGroup]="searchForm" (ngSubmit)="submitForm()">
        <nz-form-item>
          <nz-form-control>
            <nz-input-group [nzSuffix]="suffixIconSearch">
              <input formControlName="keyword" type="text" nz-input placeholder="Search" />
            </nz-input-group>
            <ng-template #suffixIconSearch>
              <nz-icon nzType="search" />
            </ng-template>
          </nz-form-control>
        </nz-form-item>
      </form>
    </div>
    <div class="flex-item ">
      <shared-ui-button-component buttonText="New" (shareClicked)="store.openDrawer()"/>
    </div>
  </div>

  <nz-table [nzData]="store.vocabularyList()" [nzShowPagination]="false" #nzTable nzTableLayout="fixed">
    <thead>
      <tr>
        <th nzWidth="2%"></th>
        <th nzWidth="8%">Word</th>
        <th nzWidth="12%">Translation</th>
        <th nzWidth="12%">Pronunciation</th>
        <th nzWidth="20%">Meaning</th>
        <th nzWidth="5%">Level</th>
        <th nzWidth="10%">Parts Of Speech</th>
        <th nzWidth="12%"></th>
      </tr>
    </thead>
    <tbody>
      @for (data of store.vocabularyList(); track data) {
      <tr>
        <td [nzExpand]="expandSet.has(data._id)" (nzExpandChange)="onExpandChange(data._id, $event)"></td>
        <td>{{ data.word }}</td>
        <td>{{ data.translation }}</td>

        <td>
          <span>
            {{ data.ipa}}
          </span><br>
          <span>{{ data.pronunciation }}</span>
        </td>

        <td>{{data.meaning}}</td>

        <td>{{ data.level}}</td>
         <td>
          @for (p of data.partsOfSpeech; track p) {
          <nz-tag>
            {{ p}}
          </nz-tag>
          }
        </td>
        <td>
          @for (tag of data.tags; track tag) {
          <nz-tag>
            {{ tag}}
          </nz-tag>
          }
        </td>
      </tr>
      <tr [nzExpand]="expandSet.has(data._id)">

        @for (s of data.examples; track s) {
        <div class="example-container">
          <span class="sentence">- {{s.sentence}}</span> <span> - {{s.meaning}}</span> <br>
          <span> <span nz-icon nzType="sound"></span>
            {{s.pronunciation}}</span> <br>
        </div>

        }
      </tr>
      }
    </tbody>
  </nz-table>
</div>